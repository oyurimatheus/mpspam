function executaPesquisaAvancada(e,a){cleanErrorMessages(),a.preventDefault(),AjaxPool.abortAll(),$("#q").val(""),limpaMensagensCamposObrigatorios(),e()&&($("#advancedSearchContainer > div").attr("data-active",""),$("#advancedSearchContainer > div > div").hide())}function limpaMensagensCamposObrigatorios(){$(".advanced-search-alert").hide(),$("#mandados-numeroDocumento").hide()}function possuiCampoPreenchido(e,a,s){for(var i=0;i<e.length;i++){var o=$("#"+e[i]).val();if(null!=o&&""!==o.trim())return!0}if(void 0!==a)for(i=0;i<a.length;i++){if("Selecione"!==$("#"+a[i]).find(":selected").text())return!0}return void 0!==s&&$("#"+s).show(),!1}function validaCamposObrigatoriosVeiculos(){return possuiCampoPreenchido(["veiculos-query"],[],"veiculos-query-required")}function validaCamposObrigatoriosArmas(){return possuiCampoPreenchido(["numeroSerie"],[],"numeroSerie-required")}function validaCamposObrigatoriosCondutores(){if(""===$("#condutores-query").val().trim())return $("#condutores-query-required").show(),!1;var e=document.getElementById("slct-condutores-query");return"tipo-pesquisa-condutores-pid"!=e.options[e.selectedIndex].id||!($("#condutores-query").val().trim().length<3||9<$("#condutores-query").val().trim().length)||($("#condutores-pid-invalido").show(),!1)}function validaCamposObrigatoriosMandados(){return 0<document.getElementById("slct-tipo-documento").selectedIndex?possuiCampoPreenchido(["mandados-numeroDocumento"],[],"mandados-numeroDocumento-required"):possuiCampoPreenchido(["mandados-nome","mandados-nomeMae"],["slct-tribunal"],"mandados-required")}function validaCamposObrigatoriosPessoaFisica(){var e=$('input[name="opt-tipo-pesquisa-pessoafisica"]:checked').val();return null!=e&&"FONETICA"===e.toUpperCase()?possuiCampoPreenchido(["pessoafisica-nome","pessoafisica-nomeMae"],[],"pessoafisica-fonetica-required"):possuiCampoPreenchido(["pessoafisica-cpf","pessoafisica-tituloEleitor","pessoafisica-nome","pessoafisica-nomeMae","pessoafisica-telefone-numero","pessoafisica-data-nascimento"],[],"pessoafisica-required")}function validaCamposObrigatoriosPessoaJuridica(){return possuiCampoPreenchido(["pessoajuridica-cnpj","pessoajuridica-nomeEmpresarial","pessoajuridica-nomeFantasia","pessoajuridica-cpfResponsavel","pessoajuridica-nomeSocio","pessoajuridica-cpfCnpjSocio","pessoajuridica-telefone-numero"],[],"pessoajuridica-required")}function validaCamposObrigatoriosIndividuos(){return"true"==$("#indice_nacional-exata").val()?possuiCampoPreenchido(["indice_nacional-nome","indice_nacional-mae","indice_nacional-pai"],[],"indice_nacional-exata-required"):possuiCampoPreenchido(["indice_nacional-nome","indice_nacional-mae","indice_nacional-pai","indice_nacional-alcunha","indice_nacional-rg"],[],"indice_nacional-required")}function validaCamposObrigatoriosDesaparecidos(){return possuiCampoPreenchido(["desaparecidos-nome","desaparecidos-mae","desaparecidos-pai"],[],"desaparecidos-required")}function validaCamposObrigatoriosSiapen(e){return e?possuiCampoPreenchido(["siapen-nome","siapen-mae","siapen-pai","siapen-advogado","siapen-visitante"],[],"siapen-exata-required"):possuiCampoPreenchido(["siapen-nome","siapen-mae","siapen-pai","siapen-advogado","siapen-visitante","siapen-cpf","siapen-data-nascimento","siapen-faccao"],["slct-unidade-penal"],"siapen-fonetica-required")}function validaCamposObrigatoriosRaisTrabalhadores(){return!0===$("#rais-trab-exata").is(":checked")?possuiCampoPreenchido(["rais_trab-nome"],[],"rais_trab-exata-required"):possuiCampoPreenchido(["rais_trab-nome","rais_trab-cpf","rais_trab-pis","rais_trab-data-nascimento","rais_trab-cnpj","rais_trab-razaosocial","rais_trab-ctps"],[],"rais_trab-required")}function validaCamposObrigatoriosRaisEstabelecimentos(){return!0===$("#rais-exata").is(":checked")?possuiCampoPreenchido(["rais_estab-razaosocial"],[],"rais_estab-exata-required"):possuiCampoPreenchido(["rais_estab-razaosocial","rais_estab-cnpj-cei","rais_estab-cei-vinculado"],[],"rais_estab-required")}function validaCamposObrigatoriosBos(){return possuiCampoPreenchido(["bos-cpf","bos-nome","bos-nomeMae","bos-data-nascimento"],[],"bos-required")}function validaCamposObrigatoriosSismeArmas(){return possuiCampoPreenchido(["sisme-numeroSerie"],[],"sisme-numeroSerie-required")&&possuiCampoPreenchido([],["slct-paises-mercosul"],"sisme-pais-required")}function validaCamposObrigatoriosSismeVeiculos(){return possuiCampoPreenchido(["sisme-placa","sisme-chassi","sisme-motor"],[],"sisme-veiculos-required")&&possuiCampoPreenchido([],["slct-paises-mercosul-veiculos"],"sisme-veiculos-pais-required")}function validaCamposObrigatoriosSismePessoas(){return possuiCampoPreenchido(["sisme-nomePessoa","sisme-sobrenomePessoa","sisme-nomeMae","sisme-sobrenomeMae"],[],"sisme-pessoas-required")&&possuiCampoPreenchido([],["slct-paises-mercosul-pessoas"],"sisme-pessoas-pais-required")}function pesquisaAvancadaMandados(){if(validaCamposObrigatoriosMandados()){var e,a="p0-SRV_MANDADOS";resultParam("SRV_MANDADOS",a);var s,i=document.getElementById("slct-tipo-documento");0<i.selectedIndex&&(e={identificacao:$("#mandados-numeroDocumento").val(),tipoDocumento:i.options[i.selectedIndex].value});var o=document.getElementById("slct-tribunal");if(0<o.selectedIndex){var r=o.options[o.selectedIndex].value;s={j:r.split(".")[0],tr:r.split(".")[1]}}var n=document.getElementById("pesquisa-exata"),t={nome:$("#mandados-nome").val(),nomeMae:$("#mandados-nomeMae").val(),pesquisaExata:n.checked,documentoPessoa:e,orgao:s,registroInicial:1,registroFinal:10},c=document.getElementById("slct-situacao-mandado");return null!==c&&0<c.selectedIndex&&(t.situacao=c.options[c.selectedIndex].value),genericRequest(MandadosProxy.getMandados,t,Mandados.consultarLista,a,!0),!0}return!1}function pesquisaAvancadaArmas(){if(validaCamposObrigatoriosArmas()){resultParam("SRV_ARMAS","p0");var e={numeroSerie:$("#numeroSerie").val()};return genericRequest(ArmasProxy.getArmasPorNumeroSerie,e,Armas.consultarArmaOk,"p0",!0),!0}return!1}function pesquisaAvancadaCondutores(){if(validaCamposObrigatoriosCondutores()){var e=document.getElementById("slct-condutores-query");if(0<=e.selectedIndex){var a="p0";switch(resultParam("SRV_CONDUTORES",a),e.options[e.selectedIndex].id){case"tipo-pesquisa-condutores-registro":var s={numeroRegistro:$("#condutores-query").val().trim()};genericRequest(CondutoresProxy.getCondutoresPorRegistro,s,Condutores.consultarCondutoresOk,a,!0);break;case"tipo-pesquisa-condutores-pgu":s={numeroRegistroPGU:$("#condutores-query").val().trim()};genericRequest(CondutoresProxy.getCondutoresPorRegistroPGU,s,Condutores.consultarCondutoresOk,a,!0);break;case"tipo-pesquisa-condutores-renach":s={numeroRenach:$("#condutores-query").val().trim()};genericRequest(CondutoresProxy.getCondutoresPorRENACH,s,Condutores.consultarCondutoresOk,a,!0);break;case"tipo-pesquisa-condutores-pid":s={pid:$("#condutores-query").val().trim()};genericRequest(CondutoresProxy.getCondutoresPorPID,s,Condutores.consultarCondutoresOk,a,!0)}}return!0}return!1}function pesquisaAvancadaPessoaFisica(){if(validaCamposObrigatoriosPessoaFisica()){resultParam("SRV_PESSOAFISICA","p0");var e=$('input[name="opt-tipo-pesquisa-pessoafisica"]:checked').val();e=null==e||""===e?"EXATA":e.toUpperCase();var a={cpf:$("#pessoafisica-cpf").val(),tituloEleitor:$("#pessoafisica-tituloEleitor").val(),nome:$("#pessoafisica-nome").val(),tipoPesquisa:e,nomeMae:$("#pessoafisica-nomeMae").val(),ddd:$("#pessoafisica-telefone-ddd").val(),telefone:$("#pessoafisica-telefone-numero").val(),dataNascimento:$("#pessoafisica-data-nascimento").val(),registroInicial:1,registroFinal:10};return genericRequest(PessoaFisicaProxy.getListaPessoaFisica,a,consultarListaPessoaFisicaOk,"p0",!0),!0}return!1}function pesquisaAvancadaVeiculos(){if(validaCamposObrigatoriosVeiculos()){var e={},a=document.getElementById("slct-veiculos-query");if(0<=a.selectedIndex){var s="p0-SRV_VEICULOS";resultParam("SRV_VEICULOS",s);var i=a.options[a.selectedIndex].id;switch(i){case"tipo-pesquisa-chassi":e.chassi=$("#veiculos-query").val().trim(),genericRequest(VeiculosProxy.getVeiculoPorChassi,e,Veiculos.listar,s,!0);break;case"tipo-pesquisa-placa":e.placa=$("#veiculos-query").val().trim(),genericRequest(VeiculosProxy.getVeiculoPorPlaca,e,Veiculos.listar,s,!0);break;case"tipo-pesquisa-cpf":case"tipo-pesquisa-cnpj":"tipo-pesquisa-cpf"===i?e.cpf=$("#veiculos-query").val().trim():"tipo-pesquisa-cnpj"===i&&(e.cnpj=$("#veiculos-query").val().trim()),genericRequest(VeiculosProxy.getVeiculoPorProprietario,e,Veiculos.listar,s,!0);break;case"tipo-pesquisa-cambio":e.cambio=$("#veiculos-query").val().trim(),genericRequest(VeiculosProxy.getVeiculoPorCambio,e,Veiculos.listar,s,!0);break;case"tipo-pesquisa-motor":e.motor=$("#veiculos-query").val().trim(),genericRequest(VeiculosProxy.getVeiculoPorMotor,e,Veiculos.listar,s,!0);break;case"tipo-pesquisa-renavam":e.renavam=$("#veiculos-query").val().trim(),genericRequest(VeiculosProxy.getVeiculoPorRenavam,e,Veiculos.listar,s,!0)}}return!0}return!1}function pesquisaAvancadaPessoaJuridica(){if(validaCamposObrigatoriosPessoaJuridica()){var e,a="p0-SRV_PESSOAJURIDICA";resultParam("SRV_PESSOAJURIDICA",a);var s=document.getElementById("slct-pessoajuridica-uf");0<s.selectedIndex&&(e=s.options[s.selectedIndex].value);var i={cnpj:$("#pessoajuridica-cnpj").val(),nomeEmpresarial:$("#pessoajuridica-nomeEmpresarial").val(),nomeFantasia:$("#pessoajuridica-nomeFantasia").val(),cpfResponsavel:$("#pessoajuridica-cpfResponsavel").val(),uf:e,nomeSocio:$("#pessoajuridica-nomeSocio").val(),cpfCnpjSocio:$("#pessoajuridica-cpfCnpjSocio").val(),ddd:$("#pessoajuridica-telefone-ddd").val(),telefone:$("#pessoajuridica-telefone-numero").val(),registroInicial:1,registroFinal:10};return genericRequest(PessoaJuridicaProxy.getListaPessoaJuridica,i,PessoaJuridica.consultarListaOk,a,!0),!0}return!1}function pesquisaAvancadaIndiceNacionalIndividuos(){if(validaCamposObrigatoriosIndividuos()){resultParam("SRV_INDICE_NACIONAL","p0");var e,a=null,s=$("#slct-indice_nacional-sigla-origem").val();null!==s&&(a=s.join(","));var i=document.getElementById("slct-indice_nacional-uf-rg");0<i.selectedIndex&&(e=i.options[i.selectedIndex].value);var o="";document.getElementById("indice_nacional-inquerito").checked&&(o="S");var r="";document.getElementById("indice_nacional-termo").checked&&(r="S");var n="";document.getElementById("indice_nacional-narcotrafico").checked&&(n="S");var t={nome:$("#indice_nacional-nome").val(),nomeMae:$("#indice_nacional-mae").val(),nomePai:$("#indice_nacional-pai").val(),alcunha:$("#indice_nacional-alcunha").val(),anoNascimento:$("#indice_nacional-ano-nascimento").val(),dataNascimento:$("#indice_nacional-data-nascimento").val(),siglaOrigem:a,rg:$("#indice_nacional-rg").val(),ufRg:e,inquerito:o,termo:r,narcotrafico:n,indice:0,tamanhoPagina:10,consultaExata:$("#indice_nacional-exata").val()};return genericRequest(IndividuosProxy.getIndividuos,t,Individuos.consultarIndividuosOk,"p0",!0),!0}return!1}function pesquisaAvancadaInterpol(){var e="p0-SRV_INTERPOL";resultParam("SRV_INTERPOL",e);var a={nome:$("#interpol-nome").val(),sobrenome:$("#interpol-sobrenome").val(),dataNascimento:$("#interpol-data-nascimento").val(),numeroRegistros:$("#interpol-numero-registros").val()};genericRequest(InterpolProxy.getPessoas,a,Interpol.consultarInterpolOk,e,!0)}function pesquisaAvancadaDesaparecidos(){if(validaCamposObrigatoriosDesaparecidos()){var e;if(resultParam("SRV_DESAPARECIDOS","p0"),"true"==$("#desaparecidos-exata").val())e={nome:$("#desaparecidos-nome").val(),nomeMae:$("#desaparecidos-mae").val(),nomePai:$("#desaparecidos-pai").val()};else{var a=null,s=document.getElementById("slct-desaparecidos-uf");0<s.selectedIndex&&(a=s.options[s.selectedIndex].value);var i=$("#desaparecidos-data-nascimento").val();e={nomeFonetico:$("#desaparecidos-nome").val(),nomeMaeFonetico:$("#desaparecidos-mae").val(),nomePaiFonetico:$("#desaparecidos-pai").val(),dataNascimento:i,uf:a,municipio:$("#desaparecidos-municipio").val()}}return genericRequest(DesaparecidosProxy.getDesaparecidos,e,Desaparecidos.consultarDesaparecidosOk,"p0",!0),!0}return!1}function pesquisaAvancadaSiapen(){var e="true"==$("#siapen-exata").val();if(validaCamposObrigatoriosSiapen(e)){resultParam("SRV_SIAPEN","p0");var a=$("#slct-unidade-penal").find(":selected").val(),s={nome:$("#siapen-nome").val(),nomeMae:$("#siapen-mae").val(),nomePai:$("#siapen-pai").val(),cpf:$("#siapen-cpf").val(),dataNascimento:$("#siapen-data-nascimento").val(),nomeAdvogado:$("#siapen-advogado").val(),nomeVisitante:$("#siapen-visitante").val(),idUnidadePenal:"0"==a?"":a,nomeFaccao:$("#siapen-faccao").val(),tipoPesquisa:e?"EXATA":"FONETICA"};return genericRequest(SiapenProxy.getInternos,s,Siapen.consultarInternosOk,"p0",!0),!0}return!1}function pesquisaAvancadaRaisTrabalhadores(){if(validaCamposObrigatoriosRaisTrabalhadores()){resultParam("SRV_RAIS_TRAB","p0");var e={nome:$("#rais_trab-nome").val(),cpf:$("#rais_trab-cpf").val(),tipoPesquisa:$("#rais-trab-exata").is(":checked")?"EXATA":"FONETICA",pis:$("#rais_trab-pis").val(),dataNascimento:$("#rais_trab-data-nascimento").val(),cnpj:$("#rais_trab-cnpj").val(),razaoSocial:$("#rais_trab-razaosocial").val(),ctps:$("#rais_trab-ctps").val()};return genericRequest(RaisProxy.getTrabalhadores,e,Rais.consultarTrabalhadoresOk,"p0",!0),!0}return!1}function pesquisaAvancadaRaisEstabelecimentos(){if(validaCamposObrigatoriosRaisEstabelecimentos()){var e;resultParam("SRV_RAIS_ESTAB","p0");var a=document.getElementById("slct-rais-estabelecimento-uf");e=0<a.selectedIndex?a.options[a.selectedIndex].value:"";var s=$("input[name=rais-estab-tipo-identificador]:checked").val(),i={razaoSocial:$("#rais_estab-razaosocial").val().trim(),cnpjCei:$("#rais_estab-cnpj-cei").val(),tipoPesquisa:$("#rais-exata").is(":checked")?"EXATA":"FONETICA",ceiVinculado:$("#rais_estab-cei-vinculado").val().trim(),tipoIdentificador:s.toUpperCase(),uf:e};return genericRequest(RaisProxy.getEstabelecimentos,i,Rais.consultarEstabelecimentosOk,"p0",!0),!0}return!1}function pesquisaAvancadaBos(){if(validaCamposObrigatoriosBos()){resultParam("SRV_BOS","p0");var e={nomePessoa:$("#bos-nome").val(),nomeMae:$("#bos-nomeMae").val(),cpf:$("#bos-cpf").val(),dataNascimento:$("#bos-data-nascimento").val()};return genericRequest(Bos.Proxy.getPessoas,e,Bos.consultarPessoasOk,"p0",!0),!0}return!1}function pesquisaAvancadaSismeArmas(){if(validaCamposObrigatoriosSismeArmas()){var e;resultParam("SRV_SISME_ARMAS","p0");var a=document.getElementById("slct-paises-mercosul");0<a.selectedIndex&&(e=a.options[a.selectedIndex].value);var s={numeroSerie:$("#sisme-numeroSerie").val(),paisConsulta:e};return genericRequest(Sisme.Proxy.getArmas,s,Sisme.consultarArmasOk,"p0",!0),!0}return!1}function pesquisaAvancadaSismeVeiculos(){if(validaCamposObrigatoriosSismeVeiculos()){var e;resultParam("SRV_SISME_VEICULOS","p0");var a=document.getElementById("slct-paises-mercosul-veiculos");0<a.selectedIndex&&(e=a.options[a.selectedIndex].value);var s={placa:$("#sisme-placa").val(),chassi:$("#sisme-chassi").val(),motor:$("#sisme-motor").val(),paisConsulta:e};return genericRequest(Sisme.Proxy.getVeiculos,s,Sisme.consultarVeiculosOk,"p0",!0),!0}return!1}function pesquisaAvancadaSismePessoas(){if(validaCamposObrigatoriosSismePessoas()){var e;resultParam("SRV_SISME_PESSOAS","p0");var a=document.getElementById("slct-paises-mercosul-pessoas");0<a.selectedIndex&&(e=a.options[a.selectedIndex].value);var s={nomePessoa:$("#sisme-nomePessoa").val(),sobrenomePessoa:$("#sisme-sobrenomePessoa").val(),nomeMae:$("#sisme-nomeMae").val(),sobrenomeMae:$("#sisme-sobrenomeMae").val(),paisConsulta:e};return genericRequest(Sisme.Proxy.getPessoas,s,Sisme.consultarPessoasOk,"p0",!0),!0}return!1}function cleanErrorMessages(){Funcoes.globalMessageClean(),$(".control-label").parent().removeClass("has-success"),$(".text-danger").parent().removeClass("has-error"),$(".text-danger").hide()}function loadListaUfs(){var e=Funcoes.carregarListaUfs(!1),a=Funcoes.carregarListaUfs(!0),s=Funcoes.carregarListaUfs(!1,["ES","SC","SE"]);$("#slct-ufs").html(e),$("#slct-pessoajuridica-uf").html(e),$("#slct-indice_nacional-sigla-origem").html(a),$("#slct-indice_nacional-uf-rg").html(e),$("#slct-rais-estabelecimento-uf").html(e),$("#slct-desaparecidos-uf").html(s),$("#slct-desaparecidos-uf").on("change",function(){var e=document.getElementById("slct-desaparecidos-uf");"0"===e.options[e.selectedIndex].value?$("#div-desaparecidos-municipio").hide():$("#div-desaparecidos-municipio").show()})}function loadListaTribunais(e){Funcoes.carregarListaNoCombo("slct-tribunal",e)}function loadListaTipoDocumentos(e){Funcoes.carregarListaNoCombo("slct-tipo-documento",e),$("#slct-tipo-documento").on("change",function(){var e=document.getElementById("slct-tipo-documento");"0"===e.options[e.selectedIndex].value?$("#mandados-numeroDocumento").hide():$("#mandados-numeroDocumento").show()})}function loadUnidadesPenais(){Siapen.carregarUnidadesPenais()}function loadPaisesMercosul(e){Funcoes.carregarListaNoCombo("slct-paises-mercosul",e)}function loadPaisesMercosulVeiculos(e){Funcoes.carregarListaNoCombo("slct-paises-mercosul-veiculos",e)}function loadPaisesMercosulIndividuos(e){Funcoes.carregarListaNoCombo("slct-paises-mercosul-pessoas",e)}function advSearchClick(a){$("#btn-advanced-search > div").each(function(){var e=this.id.replace("btn-advanced-search","");a==this.id?($("#"+this.id).removeClass("btn-default").addClass("btn-primary"),$("#advanced-search"+e).show()):($("#"+this.id).removeClass("btn-primary").addClass("btn-default"),$("#advanced-search"+e).hide())})}function hideAbaPesquisaAvancada(e){$("#tabAdvancedSearch a[href=#tab-search-"+e+"]").hide()}function showAbaPesquisaAvancada(e){$("#tabAdvancedSearch a[href=#tab-search-"+e+"]").show()}function resultParam(e,a){$("#resultTabs").show(),$("#cnt-tabs").empty(),$("#cnt-tabs").append('<div id="btn-tabs-todos" class="btn btn-primary"><span id="lbl-tabs-todos"> Pesquisa Avançada <span id="cnt-tabs-todos" class="badge badge-danger">0</span></span></div>'),$("#result").empty().show(),$("#result").append('<div id="'+a+'"><h4><a href="#'+a+'-lista" data-toggle="collapse" class="sinesp-collapse-control"><span class="icon-set icon-minus"></span>'+NOME_SERVICO[e]+"</a></h4></div>"),Counters.enableCounter()}$(function(){$("#slct-veiculos-query").change(function(){$("#veiculos-query").val(""),$("#veiculos-query").prop("placeholder",this.value)})});