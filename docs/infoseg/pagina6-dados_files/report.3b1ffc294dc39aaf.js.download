var reportKeys=[],reportValues=[],Report={enabled:!0,showingReport:!1,reset:function(){reportKeys=[],reportValues=[],this.updateCounters()},start:function(){this.enabled?(Funcoes.showStatus("Carregando relatório"),$("body").on("click",".sinesp-line-checkbox",function(e){Report.checkboxClick(e,this)}),$("body").on("click",".sinesp-popover-checkbox",function(e){Report.checkboxDetailsClick(e,this)}),$("body").on("click",".reportProcess",function(){Report.showReport()}),$("body").on("click",".reportClose",function(){$("#reportCounter").hide()}),$("body").on("click",".sinesp-selectall-checkbox",function(e){Report.checkboxAllClick(e,this)}),$("body").on("click",".reportUp",function(){window.scrollTo(0,0)}),$("body").on("click",".reportRemoveIcon",function(){Report.buttonRemoveItemClick(this)}),$("body").on("click",".report-remove-checkbox",function(){Report.atualizaContadorExcluidas(this)}),$("body").on("click","#btn-limpar-relatorio",function(e){Report.limparRelatorioClick(e)}),$("body").on("click","#btn-gerar-relatorio",function(e){Report.gerarRelatorioClick(e)}),$("body").on("click","#btn-remover-itens-relatorio-top",function(){Report.removeItensSelecionadosClick(this)}),$("body").on("click","#btn-remover-itens-relatorio-bottom",function(){Report.removeItensSelecionadosClick(this)}),$("#box-top-report").show(),$("#reportCounter").show(),$("#menu-top-report").show(),genericRequest(RelatoriosProxy.getRelatorio,null,Report.consultarRelatorioOk,"global-message",!1,Report.consultarRelatorioFail)):$("#menu-top-report").hide()},checkbox:function(e,t,r,o){"undefined"!=typeof VisHelper&&VisHelper.createButton(e,t,r,o);var a=document.createElement("DIV");if(a.setAttribute("class","checkbox"),$(e).append(a),this.enabled){var s=document.createElement("INPUT"),i=r+"-#-L-#-"+t,n=r+"-#-R-#-"+t;s.setAttribute("type","checkbox"),s.setAttribute("class","sinesp-line-checkbox"),s.setAttribute("data-servico",r),s.setAttribute("data-key",t),s.setAttribute("data-parent-id",e.id),s.setAttribute("data-tipo","L"),s.setAttribute("data-sub-tipo",""),$(s).data("payload",o),-1===reportKeys.indexOf(i)&&-1===reportKeys.indexOf(n)||(s.checked=!0),$(a).append(s)}},buttonRemoveItem:function(e){var t=document.getElementById(e),r=document.createElement("DIV");r.setAttribute("class","reportItemCtrl");var o=document.createElement("A");o.setAttribute("href","#"),o.setAttribute("class","reportRemoveLink"),o.setAttribute("title","Remover item do relatório");var a=document.createElement("SPAN");a.setAttribute("class","glyphicon glyphicon-remove reportRemoveIcon"),a.setAttribute("data-id",e),$(o).append(a),$(r).append('<input type="checkbox" class="sinesp-report-checkbox report-remove-checkbox" title="Marcar para remoção em lote" data-id="'+e+'">'),$(r).append(o),$(t).prepend(r)},buttonRemoveItensTop:function(e){$(e).append('<div class="row text-right"><span class=""><a href="#" id="btn-remover-itens-relatorio-top" class="btn btn-sm btn-primary reportRemoveSelected disabled">Excluir <b></b> itens selecionados<span class="glyphicon glyphicon-check"></span></a></span></div>')},buttonRemoveItensBottom:function(e){$(e).append('<div class="row text-right"><span class=""><a href="#" id="btn-remover-itens-relatorio-bottom" class="btn btn-sm btn-primary reportRemoveSelected disabled">Excluir <b></b> itens selecionados<span class="glyphicon glyphicon-check"></span></a></span></div>')},atualizaContadorExcluidas:function(){var e=0;$(".sinesp-report-checkbox:checked").each(function(){e++});var t=" itens selecionados";1===e?t="<b>1</b> item selecionado":1<e&&(t="<b>"+e+"</b>"+t),t="Excluir "+t+'<span class="glyphicon glyphicon-check">',$("#btn-remover-itens-relatorio-top").html(t),$("#btn-remover-itens-relatorio-bottom").html(t),e?($("#btn-remover-itens-relatorio-top").removeClass("disabled"),$("#btn-remover-itens-relatorio-bottom").removeClass("disabled")):($("#btn-remover-itens-relatorio-top").addClass("disabled"),$("#btn-remover-itens-relatorio-bottom").addClass("disabled"))},removeItensSelecionadosClick:function(){var s=[];$(".sinesp-report-checkbox:checked").each(function(){var e=this.getAttribute("data-id"),t=e.split("-#-"),r=t[0],o=t[1],a=t[2];void 0!==reportValues[e]&&s.push({chave:e,id:reportValues[e].id,key:a,srv:r,tpItem:o})}),0<s.length&&util.confirm("Confirma a remoção dos itens selecionados?").done(function(){Funcoes.showStatus("Removendo itens"),genericRequest(RelatoriosProxy.removerTodos,s,Report.tratarRemoverTodosItensSucesso,"",null,Report.tratarRemoverTodosErro)}).fail()},buttonRemoveItemClick:function(r){util.confirm("Confirma a remoção deste item do relatório?").done(function(){var e=r.getAttribute("data-id"),t=e.split("-#-");Report.removeItemDraftReport(e,t[0],t[1],t[2])}).fail().always()},checkboxClick:function(e,t){e.preventDefault(),$(t).attr("disabled",!0),!0===t.checked?Report.addItemReport(t):util.confirm("Confirma a remoção deste item do relatório?").done(function(){Report.removeItemReport(t)}).fail(function(){$(t).attr("disabled",!1)})},checkboxDetails:function(e,t,r,o,a){var s=document.createElement("DIV");s.setAttribute("class","row");var i=document.createElement("DIV");i.setAttribute("class","col-md-12");var n=document.createElement("DIV");n.setAttribute("class","checkbox reportHighlight");var c=document.createElement("LABEL");if(c.setAttribute("class","addToReport"),$(e).append(s),$(s).append(i),$(i).append(n),$(n).append(c),this.enabled){var l=document.createElement("INPUT"),p=r+"-#-R-#-"+t;l.setAttribute("type","checkbox"),l.setAttribute("class","sinesp-popover-checkbox"),l.setAttribute("data-servico",r),l.setAttribute("data-key",t),l.setAttribute("data-parent-id",e.id),l.setAttribute("data-tipo","R"),l.setAttribute("data-sub-tipo",void 0!==a?a:""),$(l).data("payload",o),-1!==reportKeys.indexOf(p)?l.checked=void 0===a||Report.verificarSubItem(r,p,a):void 0!==a&&l.setAttribute("disabled",!0),$(c).append(l);var d=document.createElement("SPAN");c.appendChild(d)}},verificarSubItem:function(e,t,r){return e===COD_SERVICO.SRV_INDICE_NACIONAL?Individuos.verificarSubItem(t,r):e===COD_SERVICO.SRV_SIAPEN?Siapen.verificarSubItem(t,r):(e===COD_SERVICO.SRV_RAIS_ESTAB||e===COD_SERVICO.SRV_RAIS_TRAB)&&Rais.verificarSubItem(t,r)},checkboxDetailsClick:function(e,t){e.preventDefault(),$(t).attr("disabled",!0),!0===t.checked?Report.addItemReport(t):util.confirm("Confirma a remoção deste item do relatório?").done(function(){Report.removeItemReport(t)}).fail(function(){$(t).attr("disabled",!1)})},checkboxAllClick:function(e,t){var r=t.getAttribute("data-div");!0===t.checked?Report.addAllItemsReport(t,r):util.confirm("Confirma a remoção destes itens do relatório?").done(function(){Report.removeAllItemsReport(t,r)}).fail(function(){$("#"+r+"-cbx-selecionar-todos").prop("checked",!0)})},showOrHideCheckboxAll:function(e){this.enabled&&(1<$("#"+e+'-lista-conteudo input[class="sinesp-line-checkbox"]').length?($("#"+e+"-div-selecionar-todos").show(),Report.setStateCheckboxAll(e,!1)):$("#"+e+"-div-selecionar-todos").hide())},setStateCheckboxAll:function(e,t){document.getElementById(e+"-cbx-selecionar-todos").checked=t},removeItemReport:function(e){var t=e.getAttribute("data-servico"),r=e.getAttribute("data-key"),o=e.getAttribute("data-tipo"),a=e.getAttribute("data-sub-tipo");if("L"===o){var s=t+"-#-R-#-"+r;-1!==reportKeys.indexOf(s)&&(o="R")}var i=t+"-#-"+o+"-#-"+r,n=e.getAttribute("data-parent-id"),c={chave:i,id:reportValues[i].id,key:r,srv:t,tpItem:o,tpSubItem:a};Funcoes.showStatus("Removendo item"),null==a||""==a?genericRequest(RelatoriosProxy.removerItem,c,Report.tratarRemoverItemSucesso,n,null,Report.tratarSelecionarItemErro):genericRequest(RelatoriosProxy.removerSubItem,c,Report.tratarRemoverItemSucesso,n,null,Report.tratarSelecionarItemErro)},removeItemDraftReport:function(e,t,r,o){var a={chave:e,id:reportValues[e].id,key:o,srv:t};Funcoes.showStatus("Removendo item"),genericRequest(RelatoriosProxy.removerItem,a,Report.tratarRemoverItemSucesso,e,null,Report.tratarSelecionarItemErro)},addItemReport:function(e){var t=e.getAttribute("data-servico"),r=e.getAttribute("data-key"),o=e.getAttribute("data-tipo"),a=e.getAttribute("data-parent-id"),s=e.getAttribute("data-sub-tipo"),i=$(e).data("payload"),n={servico:t,key:r,paramType:"",paramValue:"",tpItem:o,tpSubItem:s,payload:JSON.stringify(i)};Funcoes.showStatus("Adicionando item"),null==s||""==s?genericRequest(RelatoriosProxy.adicionarItem,n,Report.tratarSelecionarItemSucesso,a,null,Report.tratarSelecionarItemErro):genericRequest(RelatoriosProxy.adicionarSubItem,n,Report.tratarSelecionarItemSucesso,a,null,Report.tratarSelecionarItemErro)},addAllItemsReport:function(e,t){var s=[];$("#"+t+"-lista").find(":checkbox").attr("disabled",!0),$("#"+t+'-lista-conteudo input[class="sinesp-line-checkbox"]').each(function(){var e=this.getAttribute("data-servico"),t=this.getAttribute("data-key"),r=e+"-#-"+this.getAttribute("data-tipo")+"-#-"+t,o=e+"-#-R-#-"+t;if(-1===reportKeys.indexOf(r)&&-1===reportKeys.indexOf(o)){var a=$(this).data("payload");s.push({servico:e,key:t,paramType:"",paramValue:"",tpItem:"L",payload:JSON.stringify(a)})}}),0<s.length?(Funcoes.showStatus("Adicionando itens"),genericRequest(RelatoriosProxy.adicionarTodos,s,Report.tratarSelecionarTodosSucesso,t,null,Report.tratarSelecionarTodosErro)):$("#"+t+"-lista").find(":checkbox").attr("disabled",!1)},adicionaDetalhamentoItem:function(e,t,r,o){var a=document.getElementById(t),s=null;s=Array.isArray(e.payload)&&0<e.payload.length?e.payload[0]:e.payload,!0===e.success&&null!=s?($(a).find(".row:eq(0)").find("div").first().find("p").off("click"),a.setAttribute("data-servico",r),a.setAttribute("data-key",s[o]),a.setAttribute("data-tipo","R"),a.setAttribute("data-parent-id",t),$(a).data("payload",s),Report.addItemReport(a)):gerarMensagemInsucesso(a,e.msgRetorno)},tratarSelecionarItemSucesso:function(e,t,r,o,a){$("#"+o.replace(/#/g,"\\#")).find(":checkbox").attr("disabled",!1),!0===e.success?Report.atualizarItemAdicionadoReport(e.payload[0],a):gerarMensagemInsucesso(document.getElementById(o),e.msgRetorno)},tratarSelecionarTodosSucesso:function(e,t,r,o,a){if($("#"+o+"-lista").find(":checkbox").attr("disabled",!1),!0===e.success)for(var s=0;s<e.payload.length;s++)Report.atualizarItemAdicionadoReport(e.payload[s],a);else gerarMensagemInsucesso(document.getElementById(o),e.msgRetorno),$("#"+o+"-cbx-selecionar-todos").prop("checked",!1)},tratarSelecionarItemErro:function(e,t,r,o,a){$("#"+o).find(":checkbox").attr("disabled",!1),gerarMensagemInsucesso(document.getElementById(o),a)},tratarSelecionarTodosErro:function(e,t,r,o,a){$("#"+o+"-cbx-selecionar-todos").prop("checked",!1),$("#"+o+"-lista").find(":checkbox").attr("disabled",!1),Report.tratarSelecionarItemErro(e,t,r,o,a)},tratarRemoverTodosErro:function(e,t,r,o,a){$("#"+o+"-cbx-selecionar-todos").prop("checked",!0),$("#"+o+"-lista").find(":checkbox").attr("disabled",!1),Report.tratarSelecionarItemErro(e,t,r,o,a)},tratarRemoverItemSucesso:function(e,t,r,o,a){$("#"+o.replace(/#/g,"\\#")).find(":checkbox").attr("disabled",!1),!0===e.success?Report.atualizarItemRemovidoReport(a,e.payload[0]):gerarMensagemInsucesso(document.getElementById(o),e.msgRetorno)},tratarRemoverTodosItensSucesso:function(e,t,r,o,a){if($("#"+o+"-lista").find(":checkbox").attr("disabled",!1),!0===e.success){for(var s=0;s<a.length;s++)Report.atualizarItemRemovidoReport(a[s]);Report.updateCounters()}else gerarMensagemInsucesso(document.getElementById(o),e.msgRetorno),$("#"+o+"-cbx-selecionar-todos").prop("checked",!1)},atualizarItemAdicionadoReport:function(e,t){var r=e.servico+"-#-"+e.tpItem+"-#-"+e.key,o="";if(null!=t&&null!=t.tpSubItem&&(o=t.tpSubItem),"R"===e.tpItem){var a,s=e.servico+"-#-L-#-"+e.key;-1!==(a=reportKeys.indexOf(s))?(reportKeys[a]=r,reportValues[s]=void 0):""==o&&reportKeys.push(r)}else reportKeys.push(r);reportKeys.sort(),reportValues[r]={id:e.id,servico:e.servico,key:e.key,paramType:"",paramValue:"",tpItem:e.tpItem,payload:JSON.parse(e.itemRelatorioBlob.payload)},"R"===e.tpItem?($("[data-key='"+e.key+"'][data-servico='"+e.servico+"'][data-sub-tipo='"+o+"'] ").prop("checked",!0),$("[data-key='"+e.key+"'][data-servico='"+e.servico+"'] ").attr("disabled",!1)):$("[data-key='"+e.key+"'][data-servico='"+e.servico+"'][data-tipo="+e.tpItem+"] ").prop("checked",!0),$("#reportContainer").is(":visible")&&(Report.showReport(),document.getElementById(r).scrollIntoView()),Report.updateCounters(),Funcoes.statusTemporario("Item adicionado ao relatório")},removeAllItemsReport:function(e,t){var i=[];$("#"+t+"-lista").find(":checkbox").attr("disabled",!0),$("#"+t+'-lista-conteudo input[class="sinesp-line-checkbox"]').each(function(){var e=$(this).attr("data-servico"),t=$(this).attr("data-key"),r=$(this).attr("data-tipo"),o=e+"-#-R-#-"+t;-1!==reportKeys.indexOf(o)&&(r="R");var a=e+"-#-"+r+"-#-"+t;if(void 0!==reportValues[a]){var s=reportValues[a].id;i.push({chave:a,id:s,key:t,srv:e,tpItem:r})}}),0<i.length&&(Funcoes.showStatus("Removendo itens"),genericRequest(RelatoriosProxy.removerTodos,i,Report.tratarRemoverTodosItensSucesso,t,null,Report.tratarRemoverTodosErro))},atualizarItemRemovidoReport:function(e,t){var r=reportKeys.indexOf(e.chave),o="";null!=e.tpSubItem&&(o=e.tpSubItem),-1!==r&&(""===o?(reportKeys.splice(r,1),reportValues[e.chave]=void 0):null!=t&&(reportValues[e.chave]={id:t.id,servico:t.servico,key:t.key,paramType:"",paramValue:"",tpItem:t.tpItem,payload:JSON.parse(t.itemRelatorioBlob.payload)})),"R"===e.tpItem?""===o?($("[data-key='"+e.key+"'][data-servico='"+e.srv+"'] ").prop("checked",!1).prop("disabled",!0),$("[data-key='"+e.key+"'][data-servico='"+e.srv+"'][data-sub-tipo=''] ").prop("disabled",!1)):$("[data-key='"+e.key+"'][data-servico='"+e.srv+"'][data-sub-tipo="+o+"] ").prop("checked",!1):$("[data-key='"+e.key+"'][data-servico='"+e.srv+"'][data-tipo="+e.tpItem+"] ").prop("checked",!1);var a=document.getElementById(e.chave);null!==a&&a.remove(),$("#reportContainer").is(":visible")&&Report.showReport(),Report.updateCounters(),Funcoes.statusTemporario("Item removido do relatório")},updateCounters:function(){if(this.enabled){var e=reportKeys.length;$("#cnt-top-report").text(e),1===e?$("#cnt-top-report-word").text("item"):$("#cnt-top-report-word").text("itens"),this.showingReport&&$("#cnt-tab-report-lista").text(e)}},clearScreen:function(){var e;Funcoes.globalMessageClean(),$(".control-label").parent().removeClass("has-success"),$(".text-danger").parent().removeClass("has-error"),$(".text-danger").hide(),$("#result").empty().hide(),$("#result").parent().removeClass("onReport"),$("#resultTabs").hide(),$("#cnt-tabs").empty(),"undefined"!=typeof VisHelper&&VisHelper.hideNetwork(),e=$(location).attr("pathname"),window.history.pushState(null,"",e),AjaxPool.abortAll()},showReport:function(){if(this.enabled){var e=reportKeys.length;if(Funcoes.toggleMenu("menu-top-report"),$("#help-message").hide(),$("#searchContainer").hide(),$("#sobreContainer").hide(),$("#reportCounter").show(),$("#reportContainer").show(),this.clearScreen(),this.showingReport=!0,0===e)return $("#btn-gerar-relatorio").hide(),void Funcoes.globalMessageInfo("Nenhum item selecionado para relatório.");$("#btn-gerar-relatorio").show(),$("#result").show(),$("#resultTabs").show(),$("#result").parent().addClass("onReport"),$("#result").append('<div><ul class="nav nav-tabs"><li class="active"><a data-toggle="tab" href="#tab-report-lista"> Itens do relatório <span id="cnt-tab-report-lista" class="badge"></span></a></li></ul><div class="tab-content"><div id="tab-report-lista" class="tab-pane fade in active"></div></div></div>'),this.showList()}},showList:function(){var e=0,t=document.getElementById("tab-report-lista");Report.buttonRemoveItensTop(t);for(var r="",o=0;o<reportKeys.length;++o){var a,s=reportValues[reportKeys[o]];if(e++,r!==s.servico){var i=document.createElement("div");i.setAttribute("class","report-service-result"),$(t).append(i),$(i).append("<div><h4>"+NOME_SERVICO[s.servico]+"</h4></div>"),(a=document.createElement("div")).setAttribute("class","list row"),r=s.servico,$(i).append(a)}if("L"===reportValues[reportKeys[o]].tpItem)switch(s.servico){case COD_SERVICO.SRV_ARMAS:Armas.reportItemArma(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_CONDUTORES:Condutores.reportItem(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_INDICE_NACIONAL:Individuos.reportItemIndividuos(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_INTERPOL:break;case COD_SERVICO.SRV_MANDADOS:Mandados.reportItem(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_PESSOAFISICA:reportItemPessoaFisica(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_PESSOAJURIDICA:PessoaJuridica.reportItem(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_VEICULOS:Veiculos.reportItem(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_DESAPARECIDOS:Desaparecidos.reportItem(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_SIAPEN:Siapen.reportItem(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_RAIS_TRAB:Rais.reportItemTrabalhador(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_RAIS_ESTAB:Rais.reportItemEstabelecimento(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_BOS:Bos.reportItem(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_SISME_ARMAS:Sisme.reportItemArma(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_SISME_PESSOAS:Sisme.reportItemPessoa(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_SISME_VEICULOS:Sisme.reportItemVeiculo(a,s.payload,reportKeys[o]);break;case"VISUALIZACAO_REDE":(t=document.createElement("div")).setAttribute("id",reportKeys[o]);var n="<img src="+s.payload.imagem+' alt="Visualização em rede" />';$(t).append(n),$(a).append(t)}else switch(s.servico){case COD_SERVICO.SRV_ARMAS:Armas.reportItemDetalhe(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_CONDUTORES:Condutores.reportItemDetalhe(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_INDICE_NACIONAL:Individuos.reportItemDetalheIndividuos(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_INTERPOL:break;case COD_SERVICO.SRV_MANDADOS:Mandados.reportItemDetalhe(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_PESSOAFISICA:reportItemDetalhePessoaFisica(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_PESSOAJURIDICA:PessoaJuridica.reportItemDetalhe(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_VEICULOS:Veiculos.reportItemDetalhe(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_DESAPARECIDOS:Desaparecidos.reportItemDetalhe(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_SIAPEN:Siapen.reportItemDetalhe(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_RAIS_TRAB:Rais.reportItemDetalheTrabalhador(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_RAIS_ESTAB:Rais.reportItemDetalheEstabelecimento(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_BOS:Bos.reportItemDetalhe(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_SISME_ARMAS:Sisme.reportItemDetalheArma(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_SISME_PESSOAS:Sisme.reportItemDetalhePessoa(a,s.payload,reportKeys[o]);break;case COD_SERVICO.SRV_SISME_VEICULOS:Sisme.reportItemDetalheVeiculo(a,s.payload,reportKeys[o])}Report.buttonRemoveItem(reportKeys[o])}$("#cnt-tab-report-lista").text(e),Report.buttonRemoveItensBottom(t)},consultarRelatorioOk:function(e){if(!0===e.success){if(null!==e.payload&&null!==e.payload.itensRelatorio)for(var t=0;t<e.payload.itensRelatorio.length;t++)Report.atualizarItemAdicionadoReport(e.payload.itensRelatorio[t])}else gerarMensagemInsucesso(document.getElementById("report-error-message"),e.msgRetorno)},limparRelatorioClick:function(e){e.preventDefault(),util.confirm("Tem certeza que deseja limpar o relatório?").done(function(){Funcoes.showStatus("Limpando relatório"),genericRequest(RelatoriosProxy.limparRelatorio,null,Report.tratarLimparRelatorioSucesso,"report-error-message")})},gerarRelatorioClick:function(e){e.preventDefault(),util.confirm("Tem certeza que deseja gerar o relatório?").done(function(){Funcoes.showStatus("Gerando relatório"),genericRequest(RelatoriosProxy.gerarPdfRelatorio,null,Report.tratarGerarRelatorioSucesso,"report-error-message")})},tratarLimparRelatorioSucesso:function(e){!0===e.success?(Report.reset(),Report.showReport()):gerarMensagemInsucesso(document.getElementById("report-error-message"),e.msgRetorno)},tratarGerarRelatorioSucesso:function(e){!0===e.success?util.openWindow("./pdfjs/web/viewer.html?file=../../api/relatorio/pdf/"+e.payload,"report"):gerarMensagemInsucesso(document.getElementById("report-error-message"),e.msgRetorno)},consultarRelatorioFail:function(){Funcoes.globalMessageError("Falha na consulta aos itens do relatório. Favor recarregar a página.")}};