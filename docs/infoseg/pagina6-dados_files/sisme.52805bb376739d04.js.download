var Sisme={Proxy:{url:"api/sisme",getPessoas:function(e,a){return $.ajax(AjaxWrapper.getRequest(Sisme.Proxy.url+"/pessoas",e,a))},getVeiculos:function(e,a){return $.ajax(AjaxWrapper.getRequest(Sisme.Proxy.url+"/veiculos",e,a))},getArmas:function(e,a){return $.ajax(AjaxWrapper.getRequest(Sisme.Proxy.url+"/armas",e,a))}},consultarArmasOk:function(e,a,o,t,s,i){var r=document.getElementById(t+"-lista-conteudo");if(null===r?(criarEstruturaListagemResultados(t),r=document.getElementById(t+"-lista-conteudo")):$(r).empty(),!0===e.success){if(null!=e.payload&&0<e.payload.length){$("#"+t).data("registros-sisme-armas",e.payload),!1!==i&&($("#"+t).data("parameters",s),Counters.counterAdd(t,COD_SERVICO.SRV_SISME_ARMAS,e.totalRegistros));Sisme.paginaDados(t,1,10,e,Sisme.gerarDadosBasicosArmas,Sisme.gerarDadosDetalhadosArmas),Sisme.paginarResultados(t,e.payload.length,e,Sisme.paginaDados,10,COD_SERVICO.SRV_SISME_ARMAS,Sisme.gerarFormularioDeFiltroArmas,Sisme.gerarDadosBasicosArmas,Sisme.gerarDadosDetalhadosArmas),Report.showOrHideCheckboxAll(t)}}else gerarMensagemInsucesso(r,e.msgRetorno)},consultarVeiculosOk:function(e,a,o,t,s,i){var r=document.getElementById(t+"-lista-conteudo");if(null===r?(criarEstruturaListagemResultados(t),r=document.getElementById(t+"-lista-conteudo")):$(r).empty(),!0===e.success){if(null!=e.payload&&0<e.payload.length){$("#"+t).data("registros-sisme-veiculos",e.payload),!1!==i&&($("#"+t).data("parameters",s),Counters.counterAdd(t,COD_SERVICO.SRV_SISME_VEICULOS,e.totalRegistros));Sisme.paginaDados(t,1,10,e,Sisme.gerarDadosBasicosVeiculos,Sisme.gerarDadosDetalhadosVeiculos),Sisme.paginarResultados(t,e.payload.length,e,Sisme.paginaDados,10,COD_SERVICO.SRV_SISME_VEICULOS,Sisme.gerarFormularioDeFiltroVeiculos,Sisme.gerarDadosBasicosVeiculos,Sisme.gerarDadosDetalhadosVeiculos),Report.showOrHideCheckboxAll(t)}}else gerarMensagemInsucesso(r,e.msgRetorno)},consultarPessoasOk:function(e,a,o,t,s,i){var r=document.getElementById(t+"-lista-conteudo");if(null===r?(criarEstruturaListagemResultados(t),r=document.getElementById(t+"-lista-conteudo")):$(r).empty(),!0===e.success){if(null!=e.payload&&0<e.payload.length){$("#"+t).data("registros-sisme-pessoas",e.payload),!1!==i&&($("#"+t).data("parameters",s),Counters.counterAdd(t,COD_SERVICO.SRV_SISME_PESSOAS,e.totalRegistros));Sisme.paginaDados(t,1,10,e,Sisme.gerarDadosBasicosPessoas,Sisme.gerarDadosDetalhadosPessoas),Sisme.paginarResultados(t,e.payload.length,e,Sisme.paginaDados,10,COD_SERVICO.SRV_SISME_PESSOAS,Sisme.gerarFormularioDeFiltroPessoas,Sisme.gerarDadosBasicosPessoas,Sisme.gerarDadosDetalhadosPessoas),Report.showOrHideCheckboxAll(t)}}else gerarMensagemInsucesso(r,e.msgRetorno)},paginaDados:function(e,a,o,t,s,i){var r=t.payload.length,l=document.getElementById(e+"-lista-conteudo");if(o<a||a<1||r<a)gerarMensagemInsucesso(l,"Dados de paginação inválidos");else{$(l).empty(),30<o-(a-=1)&&(o=a+30),r<o&&(o=r);for(var n=a;n<o;n++){var d=e+"-"+n;s(l,t.payload[n],d,!1),i(l,t.payload[n],d,!1)}}},paginarResultados:function(o,e,t,s,i,a,r,l,n){null!==i&&0!==i||(i=10);var d=$("<div id='"+o+"-pag'/>");$("#"+o+"-lista-conteudo").after(d);var c=parseInt(e/i);0<e%i&&(c+=1),1<c&&(Filtro.gerarBotaoDeFiltro(o,r,a,e),$(d).bootpag({total:c,page:1,maxVisible:10,firstLastUse:!0}).on("page",function(e,a){e.preventDefault(),Report.setStateCheckboxAll(o,!1),s(o,(a-1)*i+1,a*i,t,l,n)}))},gerarDadosBasicosArmas:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o),NuloOuVazio(a.numeroSerie)||Report.checkbox(t,Sisme.getChaveArma(a),COD_SERVICO.SRV_SISME_ARMAS,a);var s=Sisme.dadosBasicosArma(a,!1);$(t).append(s),$(e).append(t),$(t).find(".row:eq(0)").find("div").first().find("p").on("click",function(){util.popOverSubEl(t.id,t.id+"-detalhe")})},dadosBasicosArma:function(e,a){var o=colunaResultComBandeiraMercosul("4","Órgão Informante",NI(e.orgaoInformante),NI(e.paisFornecedor)),t=colunasResult("2","Nº Série",NI(e.numeroSerie),"","2","Marca",NI(e.marca),"","2","Modelo",NI(e.modelo),"","2","Tipo de Arma",NI(e.tipoArma),"");return NuloOuVazio(e.numeroSerie)&&(t+=colunasResult("12","Observações",NI(e.observacao),"")),resultDiv(o+t)},gerarFormularioDeFiltroArmas:function(e,a){$(a).off("click");var o=$("<div class='sinesp-dropdown-menu sinesp-popover text-left'><form id='frm-"+e+"' class='form frm-filtro-sisme-armas' novalidate><input type='hidden' value='"+e+"' name='chave'/><div class='row sinesp-filter-row-small'><div class='col-md-12'><div class='form-group'><label>Órgão Informante</label><input type='text' class='form-control' id='"+e+"-orgaoInformante' maxlength='100' /></div><div class='form-group'><label>Nº Série</label><input type='text' class='form-control' id='"+e+"-numeroSerie' maxlength='100' /></div><div class='form-group'><label>Marca</label><input type='text' class='form-control' id='"+e+"-marca' maxlength='100' /></div><div class='form-group'><label>Modelo</label><input type='text' class='form-control' id='"+e+"-modelo' maxlength='100' /></div><div class='form-group'><label>Tipo de Arma</label><input type='text' class='form-control' id='"+e+"-tipoArma' maxlength='100' /></div><div class='form-group text-right'><button id='"+e+"-btn-limpar-formulario' class='btn btn-primary' type='button' onclick='Filtro.limparFormulario(this.form)'>Limpar</span></button>&nbsp;&nbsp;&nbsp;<button id='"+e+"-btn-filtrar-pesquisa' type='submit' class='btn btn-primary' >Filtrar &nbsp; <span class='glyphicon glyphicon-search'></span></button></div></div></div></form></div>");$("#"+e+"-lista-filtro").append(o)},consultarFiltroArmas:function(e,a){e.preventDefault();var o=a.elements.chave.value,t=$("#"+o).data("registros-sisme-armas");$("#"+o+"-lista-filtro").attr("data-active",""),$("#"+o+"-lista-filtro > div").attr("style","right: 0px; display: none;");var s=[{filtro:o+"-orgaoInformante",campo:"orgaoInformante"},{filtro:o+"-numeroSerie",campo:"numeroSerie"},{filtro:o+"-marca",campo:"marca"},{filtro:o+"-modelo",campo:"modelo"},{filtro:o+"-tipoArma",campo:"tipoArma"}],i=Filtro.filtrarRegistros(s,t),r=[];0<i.length?(r.success=!0,r.payload=i,r.msgRetorno="Filtro retornou "+i.length+" resultados"):(r.success=!1,r.msgRetorno="Nenhum registro encontrado!"),Sisme.consultarFiltroArmasOk(r,o)},consultarFiltroArmasOk:function(e,a){Filtro.limparListagemConteudo(a);!0===e.success&&null!=e.payload&&0<e.payload.length&&(Sisme.paginaDados(a,1,10,e,Sisme.gerarDadosBasicosArmas,Sisme.gerarDadosDetalhadosArmas),Sisme.paginarResultados(a,e.payload.length,e,Sisme.paginaDados,10,COD_SERVICO.SRV_SISME_ARMAS,Sisme.gerarFormularioDeFiltroArmas,Sisme.gerarDadosBasicosArmas,Sisme.gerarDadosDetalhadosArmas),Report.showOrHideCheckboxAll(a)),Filtro.mostrarMensagemFiltro(a,e.msgRetorno)},gerarDadosDetalhadosArmas:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o+"-detalhe"),t.setAttribute("hidden",""),t.setAttribute("title","Detalhes da Arma - SISME"),NuloOuVazio(a.numeroSerie)||Report.checkboxDetails(t,Sisme.getChaveArma(a),COD_SERVICO.SRV_SISME_ARMAS,a);var s=Sisme.dadosDetalhadosArma(a,!1);$(t).append(s),$(e).append(t)},dadosDetalhadosArma:function(e,a){var o="";return a&&(o=colunaResultComBandeiraMercosul("4","Órgão Informante",NI(e.orgaoInformante),NI(e.paisFornecedor))),o+=colunasResult("4","Nº Série",NI(e.numeroSerie),"","2","Marca",NI(e.marca),"","2","Modelo",NI(e.modelo),"","2","Tipo de Arma",NI(e.tipoArma),"","2","Calibre",NI(e.calibre),"","4","Órgão Expedidor",NI(e.orgao),"","4","Autoridade Solicitante",NI(e.autoridadeSolicitante),"","4","Requerimento Judicial",NI(e.requerimentoJudicial),"","4","Registro de Causa",NI(e.causa),"","4","Tipo de Delito",NI(e.tipoDelito),"","8","Observações",NI(e.observacao),""),resultDiv(o)},reportItemArma:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o);var s=Sisme.dadosBasicosArma(a,!0);$(t).append(s),$(e).append(t),$(t).find(".row:eq(0)").find("div").first().find("p").on("click",function(){Sisme.adicionarDetalhesArmaNoRelatorio(a,t)})},reportItemDetalheArma:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o);var s=Sisme.dadosDetalhadosArma(a,!0);$(t).append(s),$(e).append(t)},adicionarDetalhesArmaNoRelatorio:function(e,a){util.confirm("Confirma a inclusão do detalhamento do item no relatório?").done(function(){$(a).find(".row:eq(0)").find("div").first().find("p").off("click"),a.setAttribute("data-servico",COD_SERVICO.SRV_SISME_ARMAS),a.setAttribute("data-key",Sisme.getChaveArma(e)),a.setAttribute("data-tipo","R"),a.setAttribute("data-parent-id",a.id),$(a).data("payload",e),Report.addItemReport(a)}).fail()},gerarDadosBasicosVeiculos:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o),NuloOuVazio(a.placa)||Report.checkbox(t,Sisme.getChaveVeiculo(a),COD_SERVICO.SRV_SISME_VEICULOS,a);var s=Sisme.dadosBasicosVeiculo(a,!1);$(t).append(s),$(e).append(t),$(t).find(".row:eq(0)").find("div").first().find("p").on("click",function(){util.popOverSubEl(t.id,t.id+"-detalhe")})},dadosBasicosVeiculo:function(e,a){var o=colunaResultComBandeiraMercosul("3","Placa",NI(e.placa),NI(e.paisFornecedor)),t=colunasResult("2","Marca/Modelo",NI(e.marca)+" / "+NI(e.modelo),"","2","Cor",NI(e.cor),"","2","Fabricação/Modelo",NI(e.anoFabricacao)+" / "+NI(e.anoModelo),"","3","Restrições",NI(e.restricoes),"");return NuloOuVazio(e.placa)&&(t+=colunasResult("12","Observações",NI(e.observacao),"")),resultDiv(o+t)},gerarFormularioDeFiltroVeiculos:function(e,a){$(a).off("click");var o=$("<div class='sinesp-dropdown-menu sinesp-popover text-left'><form id='frm-"+e+"' class='form frm-filtro-sisme-veiculos' novalidate><input type='hidden' value='"+e+"' name='chave'/><div class='row sinesp-filter-row-small'><div class='col-md-12'><div class='form-group'><label>Placa</label><input type='text' class='form-control' id='"+e+"-placa' maxlength='100' /></div><div class='form-group'><label>Marca</label><input type='text' class='form-control' id='"+e+"-marca' maxlength='100' /></div><div class='form-group'><label>Modelo</label><input type='text' class='form-control' id='"+e+"-modelo' maxlength='100' /></div><div class='form-group'><label>Cor</label><input type='text' class='form-control' id='"+e+"-cor' maxlength='100' /></div><div class='form-group'><label>Ano de Fabricação</label><input type='text' class='form-control' id='"+e+"-anoFabricacao' maxlength='100' /></div><div class='form-group'><label>Ano do Modelo</label><input type='text' class='form-control' id='"+e+"-anoModelo' maxlength='100' /></div><div class='form-group'><label>Restrições</label><input type='text' class='form-control' id='"+e+"-restricoes' maxlength='100' /></div><div class='form-group text-right'><button id='"+e+"-btn-limpar-formulario' class='btn btn-primary' type='button' onclick='Filtro.limparFormulario(this.form)'>Limpar</span></button>&nbsp;&nbsp;&nbsp;<button id='"+e+"-btn-filtrar-pesquisa' type='submit' class='btn btn-primary' >Filtrar &nbsp; <span class='glyphicon glyphicon-search'></span></button></div></div></div></form></div>");$("#"+e+"-lista-filtro").append(o)},consultarFiltroVeiculos:function(e,a){e.preventDefault();var o=a.elements.chave.value,t=$("#"+o).data("registros-sisme-veiculos");$("#"+o+"-lista-filtro").attr("data-active",""),$("#"+o+"-lista-filtro > div").attr("style","right: 0px; display: none;");var s=[{filtro:o+"-placa",campo:"placa"},{filtro:o+"-marca",campo:"marca"},{filtro:o+"-modelo",campo:"modelo"},{filtro:o+"-cor",campo:"cor"},{filtro:o+"-anoFabricacao",campo:"anoFabricacao"},{filtro:o+"-anoModelo",campo:"anoModelo"},{filtro:o+"-restricoes",campo:"restricoes"}],i=Filtro.filtrarRegistros(s,t),r=[];0<i.length?(r.success=!0,r.payload=i,r.msgRetorno="Filtro retornou "+i.length+" resultados"):(r.success=!1,r.msgRetorno="Nenhum registro encontrado!"),Sisme.consultarFiltroVeiculosOk(r,o)},consultarFiltroVeiculosOk:function(e,a){Filtro.limparListagemConteudo(a);!0===e.success&&null!=e.payload&&0<e.payload.length&&(Sisme.paginaDados(a,1,10,e,Sisme.gerarDadosBasicosVeiculos,Sisme.gerarDadosDetalhadosVeiculos),Sisme.paginarResultados(a,e.payload.length,e,Sisme.paginaDados,10,COD_SERVICO.SRV_SISME_VEICULOS,Sisme.gerarFormularioDeFiltroVeiculos,Sisme.gerarDadosBasicosVeiculos,Sisme.gerarDadosDetalhadosVeiculos),Report.showOrHideCheckboxAll(a)),Filtro.mostrarMensagemFiltro(a,e.msgRetorno)},gerarDadosDetalhadosVeiculos:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o+"-detalhe"),t.setAttribute("hidden",""),t.setAttribute("title","Detalhes do Veículo - SISME"),NuloOuVazio(a.placa)||Report.checkboxDetails(t,Sisme.getChaveVeiculo(a),COD_SERVICO.SRV_SISME_VEICULOS,a);var s=Sisme.dadosDetalhadosVeiculo(a,!1);$(t).append(s),$(e).append(t)},dadosDetalhadosVeiculo:function(e,a){var o="";return a&&(o=colunaResultComBandeiraMercosul("3","Placa",NI(e.placa),NI(e.paisFornecedor))),o+=colunasResult("3","Marca/Modelo",NI(e.marca)+" / "+NI(e.modelo),"","3","Cor",NI(e.cor),"","3","Ano Fabricação/Modelo",NI(e.anoFabricacao)+" / "+NI(e.anoModelo),"","3","Restrições",NI(e.restricoes),"","3","Nacionalidade da Placa",NI(e.nacionalidadePlaca),"","6","Orgão/Autoridade Solicitante",NI(e.orgao)+" / "+NI(e.autoridadeSolicitante),"","3","País de Fabricação",NI(e.paisFabricante),"","3","Chassi",NI(e.chassi),"","3","Marca Chassi",NI(e.marcaChassi),"","3","Nº/Marca Motor",NI(e.motor)+" / "+NI(e.marcaMotor),"","3","Categoria do Veículo",NI(e.categoriaVeiculo),"","6","Nº documento do Veículo/Data Emissão",NI(e.numeroDocumentoVeiculo)+" / "+NI(e.dataEmissaoDocumentoVeiculo),"","3","VIN",NI(e.vin),"","12","Observações",NI(e.observacao),""),resultDiv(o)},reportItemVeiculo:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o);var s=Sisme.dadosBasicosVeiculo(a,!0);$(t).append(s),$(e).append(t),$(t).find(".row:eq(0)").find("div").first().find("p").on("click",function(){Sisme.adicionarDetalhesVeiculoNoRelatorio(a,t)})},reportItemDetalheVeiculo:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o);var s=Sisme.dadosDetalhadosVeiculo(a,!0);$(t).append(s),$(e).append(t)},adicionarDetalhesVeiculoNoRelatorio:function(e,a){util.confirm("Confirma a inclusão do detalhamento do item no relatório?").done(function(){$(a).find(".row:eq(0)").find("div").first().find("p").off("click"),a.setAttribute("data-servico",COD_SERVICO.SRV_SISME_VEICULOS),a.setAttribute("data-key",Sisme.getChaveVeiculo(e)),a.setAttribute("data-tipo","R"),a.setAttribute("data-parent-id",a.id),$(a).data("payload",e),Report.addItemReport(a)}).fail()},gerarDadosBasicosPessoas:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o),NuloOuVazio(a.listaNomes)||Report.checkbox(t,Sisme.getChavePessoa(a),COD_SERVICO.SRV_SISME_PESSOAS,a);var s=Sisme.dadosBasicosPessoa(a,!1);$(t).append(s),$(e).append(t),$(t).find(".row:eq(0)").find("div").first().find("p").on("click",function(){util.popOverSubEl(t.id,t.id+"-detalhe")})},dadosBasicosPessoa:function(e,a){var o=colunaResultComBandeiraMercosul("4","Nome",NI(e.listaNomes)+" "+NI(e.listaSobrenomes),NI(e.paisFornecedor)),t=colunasResult("3","Filiação",Funcoes.filiacao(e.nomeCompletoMae,e.nomeCompletoPai,a),"","2","D. N.",a?NI(e.dataNascimento):Funcoes.link(NI(e.dataNascimento)),"","1","Sexo",NI(e.sexo),"","2","Nacionalidade",NI(e.nacionalidade),"");return NuloOuVazio(e.listaNomes)&&(t+=colunasResult("12","Observações",NI(e.observacao),"")),resultDiv(o+t)},gerarFormularioDeFiltroPessoas:function(e,a){$(a).off("click");var o=$("<div class='sinesp-dropdown-menu sinesp-popover text-left'><form id='frm-"+e+"' class='form frm-filtro-sisme-pessoas' novalidate><input type='hidden' value='"+e+"' name='chave'/><div class='row sinesp-filter-row-small'><div class='col-md-12'><div class='form-group'><label>Nome</label><input type='text' class='form-control' id='"+e+"-nome' maxlength='100' /></div><div class='form-group'><label>Sobrenome</label><input type='text' class='form-control' id='"+e+"-sobrenome' maxlength='100' /></div><div class='form-group'><label>Nome da Mãe</label><input type='text' class='form-control' id='"+e+"-nomeMae' maxlength='100' /></div><div class='form-group'><label>Nome do Pai</label><input type='text' class='form-control' id='"+e+"-nomePai' maxlength='100' /></div><div class='form-group'><label>Data de Nascimento</label><input type='text' class='form-control' id='"+e+"-dataNascimento' maxlength='10' /></div><div class='form-group'><label>Sexo</label><input type='text' class='form-control' id='"+e+"-sexo' maxlength='100' /></div><div class='form-group'><label>Nacionalidade</label><input type='text' class='form-control' id='"+e+"-nacionalidade' maxlength='100' /></div><div class='form-group text-right'><button id='"+e+"-btn-limpar-formulario' class='btn btn-primary' type='button' onclick='Filtro.limparFormulario(this.form)'>Limpar</span></button>&nbsp;&nbsp;&nbsp;<button id='"+e+"-btn-filtrar-pesquisa' type='submit' class='btn btn-primary' >Filtrar &nbsp; <span class='glyphicon glyphicon-search'></span></button></div></div></div></form></div>");$("#"+e+"-lista-filtro").append(o)},consultarFiltroPessoas:function(e,a){e.preventDefault();var o=a.elements.chave.value,t=$("#"+o).data("registros-sisme-pessoas");$("#"+o+"-lista-filtro").attr("data-active",""),$("#"+o+"-lista-filtro > div").attr("style","right: 0px; display: none;");var s=[{filtro:o+"-nome",campo:"listaNomes"},{filtro:o+"-sobrenome",campo:"listaSobrenomes"},{filtro:o+"-nomeMae",campo:"nomeCompletoMae"},{filtro:o+"-nomePai",campo:"nomeCompletoPai"},{filtro:o+"-dataNascimento",campo:"dataNascimento"},{filtro:o+"-sexo",campo:"sexo"},{filtro:o+"-nacionalidade",campo:"nacionalidade"}],i=Filtro.filtrarRegistros(s,t),r=[];0<i.length?(r.success=!0,r.payload=i,r.msgRetorno="Filtro retornou "+i.length+" resultados"):(r.success=!1,r.msgRetorno="Nenhum registro encontrado!"),Sisme.consultarFiltroPessoasOk(r,o)},consultarFiltroPessoasOk:function(e,a){Filtro.limparListagemConteudo(a);!0===e.success&&null!=e.payload&&0<e.payload.length&&(Sisme.paginaDados(a,1,10,e,Sisme.gerarDadosBasicosPessoas,Sisme.gerarDadosDetalhadosPessoas),Sisme.paginarResultados(a,e.payload.length,e,Sisme.paginaDados,10,COD_SERVICO.SRV_SISME_PESSOAS,Sisme.gerarFormularioDeFiltroPessoas,Sisme.gerarDadosBasicosPessoas,Sisme.gerarDadosDetalhadosPessoas),Report.showOrHideCheckboxAll(a)),Filtro.mostrarMensagemFiltro(a,e.msgRetorno)},gerarDadosDetalhadosPessoas:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o+"-detalhe"),t.setAttribute("hidden",""),t.setAttribute("title","Detalhes da Pessoa - SISME"),NuloOuVazio(a.numeroDocumento)||Report.checkboxDetails(t,Sisme.getChavePessoa(a),COD_SERVICO.SRV_SISME_PESSOAS,a);var s=Sisme.dadosDetalhadosPessoa(a,!1);$(t).append(s),$(e).append(t)},dadosDetalhadosPessoa:function(e,a){var o="";return a&&(o=colunaResultComBandeiraMercosul("4","Nome",NI(e.listaNomes)+" "+NI(e.listaSobrenomes),NI(e.paisFornecedor))),o+=colunasResult("4","Filiação",Funcoes.filiacao(e.nomeCompletoMae,e.nomeCompletoPai,a),"","2","D. N.",a?NI(e.dataNascimento):Funcoes.link(NI(e.dataNascimento)),"","2","Sexo",NI(e.sexo),"","2","Nacionalidade",NI(e.nacionalidade),"","4","Órgão Expedidor",NI(e.orgao),"","4","Autoridade Solicitante",NI(e.autoridadeSolicitante),"","2","Nº Documento",NI(e.numeroDocumento),"","2","Tipo Documento",NI(e.tipoDocumento),"","4","Endereço Residencial",NI(e.enderecoResidencial),"","4","Restrição",NI(e.tipoRequerimento),"","4","Motivo da Restrição",NI(e.motivoRequerimento),"","3","Causa",NI(e.causa),"","3","Delito",NI(e.tipoDelito),"","6","Observações",NI(e.observacao),""),resultDiv(o)},reportItemPessoa:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o);var s=Sisme.dadosBasicosPessoa(a,!0);$(t).append(s),$(e).append(t),$(t).find(".row:eq(0)").find("div").first().find("p").on("click",function(){Sisme.adicionarDetalhesPessoaNoRelatorio(a,t)})},reportItemDetalhePessoa:function(e,a,o){var t=document.createElement("div");t.setAttribute("id",o);var s=Sisme.dadosDetalhadosPessoa(a,!0);$(t).append(s),$(e).append(t)},adicionarDetalhesPessoaNoRelatorio:function(e,a){util.confirm("Confirma a inclusão do detalhamento do item no relatório?").done(function(){$(a).find(".row:eq(0)").find("div").first().find("p").off("click"),a.setAttribute("data-servico",COD_SERVICO.SRV_SISME_PESSOAS),a.setAttribute("data-key",Sisme.getChavePessoa(e)),a.setAttribute("data-tipo","R"),a.setAttribute("data-parent-id",a.id),$(a).data("payload",e),Report.addItemReport(a)}).fail()},limparChaveRelatorio:function(e){return e.replace(/\s/g,"").replace(/[&\/\\,+()$~%'":*?<>{}]/g,"").substr(0,200)},getChaveArma:function(e){var a=e.paisFornecedor+".#."+e.numeroSerie+".#."+e.marca;return Sisme.limparChaveRelatorio(a)},getChavePessoa:function(e){var a=e.paisFornecedor+".#."+e.numeroDocumento+".#."+e.listaNomes+".#."+e.listaSobrenomes;return Sisme.limparChaveRelatorio(a)},getChaveVeiculo:function(e){var a=e.paisFornecedor+".#."+e.placa;return Sisme.limparChaveRelatorio(a)}};$(function(){$("body").on("submit",".frm-filtro-sisme-armas",function(e){Sisme.consultarFiltroArmas(e,this)}),$("body").on("submit",".frm-filtro-sisme-pessoas",function(e){Sisme.consultarFiltroPessoas(e,this)}),$("body").on("submit",".frm-filtro-sisme-veiculos",function(e){Sisme.consultarFiltroVeiculos(e,this)})});